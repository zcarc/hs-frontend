<template>
  <nav class="sidebar">
    <NuxtLink to="/">
      <div class="logo">ê·¸ë£¹ì›¨ì–´</div>
    </NuxtLink>
    <ul class="menu">
      <li
        v-for="item in menuItems"
        :key="item.key"
        :class="{ active: isActive(item) }"
      >
        <NuxtLink
          :to="
            item.link === '/board'
              ? { path: item.link, query: { page: 1 } }
              : item.link
          "
          class="menu-link"
        >
          <span class="icon">{{ item.icon }}</span
          >{{ item.name }}
        </NuxtLink>
      </li>
    </ul>
  </nav>
</template>

<script setup lang="ts">
const route = useRoute();

const menuItems = [
  { key: "board", name: "ê²Œì‹œíŒ", icon: "", link: "/board" },
  { key: "mail", name: "ë©”ì¼", icon: "ğŸ“§", link: "/mail" },
  { key: "msg", name: "ìª½ì§€", icon: "ğŸ’¬", link: "/msg" },
  { key: "approval", name: "ì „ìê²°ì¬", icon: "ğŸ“", link: "/approval" },
  { key: "manage", name: "ê²°ì¬ ê´€ë¦¬", icon: "ğŸ“‹", link: "/manage" },
  { key: "report", name: "ë³´ê³ ", icon: "ğŸ“Š", link: "/report" },
  { key: "settings", name: "ì„¤ì •", icon: "âš™ï¸", link: "/settings" },
];

function isActive(item: (typeof menuItems)[0]) {
  // í˜„ì¬ ê²½ë¡œê°€ item.link ë¡œ ì‹œì‘í•˜ë©´ active
  return route.path.startsWith(item.link);
}
</script>

<style scoped src="./Sidebar.css" />
,
